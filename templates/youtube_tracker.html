
{% extends "base.html" %}

{% block title %}YouTube Tracker - {{ super() }}{% endblock %}

{% block content %}
<div class="container tracker-container">
    <header class="page-header">
        <h1>YouTube Video Stats Tracker</h1>
        <p>Track views, likes, and subscribers for any YouTube video in near real-time.</p>
    </header>

    <div class="card">
        <form method="POST" action="{{ url_for('youtube_tracker') }}" class="form-card">
            <div class="form-group">
                <label for="video_id">YouTube Video ID</label>
                <input type="text" id="video_id" name="video_id" class="form-control" placeholder="e.g., dQw4w9WgXcQ" required value="{{ video_id or '' }}">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="interval">Tracking Interval (minutes)</label>
                    <input type="number" id="interval" name="interval" class="form-control" min="1" max="60" value="{{ interval or 5 }}" required>
                </div>
                <div class="form-group">
                    <label for="samples">Number of Samples</label>
                    <input type="number" id="samples" name="samples" class="form-control" min="2" max="10" value="{{ samples or 5 }}" required>
                </div>
            </div>

            <button type="submit" class="btn btn-primary btn-block">Start Tracking</button>
        </form>
    </div>

    {% if loading %}
    <div class="card loading-card">
        <div class="spinner"></div>
        <p>Tracking in progress... Please wait. This may take up to {{ interval * samples }} minutes.</p>
    </div>
    {% endif %}

    {% if plots %}
    <div class="results-container">
        <h2 class="results-header">Tracking Results</h2>
        {% for plot in plots %}
        <div class="card plot-card">
            <img src="{{ url_for('static', filename=plot) }}" alt="Video Statistics Plot">
        </div>
        {% endfor %}
    </div>
    {% endif %}

</div>
{% endblock %}
